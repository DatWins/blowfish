<div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    {{ if .Site.Params.Logo }}
    {{ $logo := resources.Get .Site.Params.Logo }}
    {{ if $logo }}
    <div>
        <a href="{{ "" | relLangURL }}" class="flex">
            <span class="sr-only logo">{{ .Site.Title | markdownify }}</span>
            <svg width="{{ div $logo.Width 2 }}"  viewBox="0 0 482 482" fill="none" xmlns="http://www.w3.org/2000/svg"  id="animated-logo"  class="logo max-h-[3rem] max-w-[5rem] object-scale-down object-left nozoom" alt="{{ .Site.Title }}" style="padding: 0.5rem 0;
            max-width: 3.3rem;">
                <path fill="white" d="M0,241A241,241 0,1,1 482,241A241,241 0,1,1 0,241" class="HWrTritA_0"></path>
                <g filter="url(#filter0_dd_228_22)">
                <path d="M237.011 120.069C244.996 117.977 252.03 115.759 258.811 113.668C274.654 108.662 288.406 104.416 307.861 103.909C329.154 103.402 350.7 107.648 371.993 116.52L372.247 93.1355C350.764 85.2774 328.964 81.5385 307.354 82.0454C284.794 82.5524 269.014 87.5588 252.284 92.7553C245.756 94.7832 238.976 96.9378 231.498 98.9023C197.594 107.774 160.585 109.929 121.484 105.303L109 103.845L109.254 116.393C109.444 125.075 109.507 133.884 109.57 142.566C109.57 151.311 109.507 160.12 109.38 168.802L109.19 183.124L123.069 179.511C132.955 176.913 152.663 173.998 173.132 183.124C180.8 186.546 187.835 191.299 193.982 197.255L194.045 302.389L194.489 303.91C201.65 328.499 225.224 344.025 249.305 340.032C268.634 336.864 284.477 321.211 288.723 300.995L288.976 299.918L289.546 196.432C294.426 190.728 303.108 182.743 316.036 178.307C329.09 173.871 340.941 174.822 349.306 176.723L348.419 308.853C339.8 363.797 290.244 404.672 235.173 402.073C181.497 399.538 137.074 357.016 131.56 303.023L131.624 228.371H131.053C127.948 228.815 125.16 229.448 122.942 230.019L109.76 233.441L109.697 304.1L109.76 304.607C116.098 369.564 169.583 420.831 234.159 423.873C236.187 424 238.215 424 240.243 424C270.408 424 299.686 413.417 323.387 393.835C348.736 372.922 365.339 343.581 370.219 311.261L370.346 310.501L371.296 160.943L364.072 158.282C353.742 154.479 332.893 149.41 309.002 157.585C288.342 164.619 275.668 178.371 269.965 185.912L267.746 188.827L267.176 297.446C264.515 308.346 256.023 316.711 245.883 318.359C233.336 320.387 220.471 312.022 216.035 299.031L215.908 188.574L212.993 185.405C204.121 175.836 193.728 168.358 182.068 163.225C163.12 154.796 144.932 154.226 131.37 155.81C131.37 151.374 131.434 146.938 131.37 142.502C131.37 137.813 131.307 133.06 131.244 128.307C168.633 131.412 204.121 128.687 237.011 120.069Z" fill="url(#paint0_linear_228_22)" class="HWrTritA_1"></path>
                <path d="M237.011 120.069C244.996 117.977 252.03 115.759 258.811 113.668C274.654 108.662 288.406 104.416 307.861 103.909C329.154 103.402 350.7 107.648 371.993 116.52L372.247 93.1355C350.764 85.2774 328.964 81.5385 307.354 82.0454C284.794 82.5524 269.014 87.5588 252.284 92.7553C245.756 94.7832 238.976 96.9378 231.498 98.9023C197.594 107.774 160.585 109.929 121.484 105.303L109 103.845L109.254 116.393C109.444 125.075 109.507 133.884 109.57 142.566C109.57 151.311 109.507 160.12 109.38 168.802L109.19 183.124L123.069 179.511C132.955 176.913 152.663 173.998 173.132 183.124C180.8 186.546 187.835 191.299 193.982 197.255L194.045 302.389L194.489 303.91C201.65 328.499 225.224 344.025 249.305 340.032C268.634 336.864 284.477 321.211 288.723 300.995L288.976 299.918L289.546 196.432C294.426 190.728 303.108 182.743 316.036 178.307C329.09 173.871 340.941 174.822 349.306 176.723L348.419 308.853C339.8 363.797 290.244 404.672 235.173 402.073C181.497 399.538 137.074 357.016 131.56 303.023L131.624 228.371H131.053C127.948 228.815 125.16 229.448 122.942 230.019L109.76 233.441L109.697 304.1L109.76 304.607C116.098 369.564 169.583 420.831 234.159 423.873C236.187 424 238.215 424 240.243 424C270.408 424 299.686 413.417 323.387 393.835C348.736 372.922 365.339 343.581 370.219 311.261L370.346 310.501L371.296 160.943L364.072 158.282C353.742 154.479 332.893 149.41 309.002 157.585C288.342 164.619 275.668 178.371 269.965 185.912L267.746 188.827L267.176 297.446C264.515 308.346 256.023 316.711 245.883 318.359C233.336 320.387 220.471 312.022 216.035 299.031L215.908 188.574L212.993 185.405C204.121 175.836 193.728 168.358 182.068 163.225C163.12 154.796 144.932 154.226 131.37 155.81C131.37 151.374 131.434 146.938 131.37 142.502C131.37 137.813 131.307 133.06 131.244 128.307C168.633 131.412 204.121 128.687 237.011 120.069Z" stroke="url(#paint1_linear_228_22)" stroke-width="14" stroke-linejoin="round" class="HWrTritA_2"></path>
                </g>
                <defs>
                <filter id="filter0_dd_228_22" x="94" y="75" width="293.247" height="380" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix>
                <feMorphology radius="4" operator="erode" in="SourceAlpha" result="effect1_dropShadow_228_22"></feMorphology>
                <feOffset dy="4"></feOffset>
                <feGaussianBlur stdDeviation="2"></feGaussianBlur>
                <feComposite in2="hardAlpha" operator="out"></feComposite>
                <feColorMatrix type="matrix" values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.05 0"></feColorMatrix>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_228_22"></feBlend>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix>
                <feMorphology radius="8" operator="erode" in="SourceAlpha" result="effect2_dropShadow_228_22"></feMorphology>
                <feOffset dy="16"></feOffset>
                <feGaussianBlur stdDeviation="8"></feGaussianBlur>
                <feComposite in2="hardAlpha" operator="out"></feComposite>
                <feColorMatrix type="matrix" values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.1 0"></feColorMatrix>
                <feBlend mode="normal" in2="effect1_dropShadow_228_22" result="effect2_dropShadow_228_22"></feBlend>
                <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_228_22" result="shape"></feBlend>
                </filter>
                <linearGradient id="paint0_linear_228_22" x1="109" y1="82" x2="438.136" y2="307.902" gradientUnits="userSpaceOnUse">
                <stop stop-color="#FE6F72"></stop>
                <stop offset="0.520833" stop-color="#F24CBE"></stop>
                <stop offset="1" stop-color="#9B49F5"></stop>
                </linearGradient>
                <linearGradient id="paint1_linear_228_22" x1="109" y1="82" x2="438.136" y2="307.902" gradientUnits="userSpaceOnUse">
                <stop stop-color="#FE6F72"></stop>
                <stop offset="0.520833" stop-color="#F24CBE"></stop>
                <stop offset="1" stop-color="#9B49F5"></stop>
                </linearGradient>
                </defs>
                <style data-made-with="vivus-instant">.HWrTritA_0{stroke-dasharray:1515 1517;stroke-dashoffset:1516;animation:HWrTritA_draw 2600ms ease-in-out 0ms forwards;}.HWrTritA_1{stroke-dasharray:2791 2793;stroke-dashoffset:2792;animation:HWrTritA_draw 2600ms ease-in-out 50ms forwards;}.HWrTritA_2{stroke-dasharray:2791 2793;stroke-dashoffset:2792;animation:HWrTritA_draw 2600ms ease-in-out 100ms forwards;}@keyframes HWrTritA_draw{100%{stroke-dashoffset:0;}}@keyframes HWrTritA_fade{0%{stroke-opacity:1;}94.20289855072464%{stroke-opacity:1;}100%{stroke-opacity:0;}}</style></svg>
          
            {{/*  <img src="assets/utrodus_logo_animated.svg" width="{{ div $logo.Width 2 }}" height="{{ div $logo.Height 2 }}"
                class="logo max-h-[3rem] max-w-[5rem] object-scale-down object-left nozoom" alt="{{ .Site.Title }}" style="padding: 0.5rem 0;
    max-width: 2.7rem;" />  */}}

        </a>
    </div>
    {{ end }}
    {{- end }}
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            {{ if not .Site.Params.disableTextInHeader | default true }}
            <a href="{{ "" | relLangURL }}" class="text-lg text-gray-500 hover:text-gray-900 logo">{{
                .Site.Title | markdownify
                }}</a>
            {{ end }}

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            {{ if .Site.Menus.main }}
            {{ range .Site.Menus.main }}
            {{ partial "header/header-option.html" . }}
            {{ end }}
            {{ end }}

            {{ partial "translations.html" . }}

            {{ if .Site.Params.enableSearch | default false }}
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="{{ i18n " search.open_button_title" }}">
                {{ partial "icon.html" "search" }}
            </button>
            {{ end }}


            {{/* Appearance switch */}}
            {{/*  {{ if .Site.Params.footer.showAppearanceSwitcher | default false }}
            <div
                class="{{ if .Site.Params.footer.showScrollToTop | default true -}} ltr:mr-14 rtl:ml-14 {{- end }} flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        {{ partial "icon.html" "moon" }}
                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        {{ partial "icon.html" "sun" }}
                    </div>
                </button>
            </div>
            {{ end }}  */}}

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            {{ partial "translations.html" . }}

            {{ if .Site.Params.enableSearch | default false }}
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="{{ i18n " search.open_button_title" }}">
                {{ partial "icon.html" "search" }}
            </button>
            {{ end }}

            {{/* Appearance switch */}}
            {{ if .Site.Params.footer.showAppearanceSwitcher | default false }}
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    {{ partial "icon.html" "moon" }}
                </div>
                <div class="items-center justify-center hidden dark:flex">
                    {{ partial "icon.html" "sun" }}
                </div>
            </button>
            {{ end }}

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            {{ if .Site.Menus.main }}
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                {{ partial "icon.html" "bars" }}
            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">{{
                            partial
                            "icon.html"
                            "xmark" }}</span>
                    </li>

                    {{ range .Site.Menus.main }}

                    {{ partial "header/header-mobile-option.html" . }}

                    {{ end }}

                </ul>
                {{ if .Site.Menus.subnavigation }}
                <hr>
                <ul
                    class="flex mt-4 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">


                    {{ range .Site.Menus.subnavigation }}
                    <li class="mb-1">
                        <a href="{{ .URL }}" {{ if or (strings.HasPrefix .URL "http:" ) (strings.HasPrefix .URL "https:"
                            ) }} target="_blank" {{ end }} class="flex items-center">
                            {{ if .Pre }}
                            <span {{ if and .Pre .Name}} class="mr-3" {{ end }}>
                                {{ partial "icon.html" .Pre }}
                            </span>
                            {{ end }}
                            <p class="text-sm font-sm text-gray-500 hover:text-gray-900" title="{{ .Title }}">
                                {{ .Name | markdownify }}
                            </p>
                        </a>
                    </li>
                    {{ end }}

                </ul>
                {{ end }}
                {{ end }}

            </div>
        </label>
    </div>
</div>

{{ if .Site.Menus.subnavigation }}
<div class="main-menu flex pb-3 flex-col items-end justify-between md:justify-start space-x-3" {{ if .Site.Params.Logo
    }} style="margin-top:-15px" {{ end }}>
    <div class="hidden md:flex items-center space-x-5">
        {{ range .Site.Menus.subnavigation }}
        <a href="{{ .URL }}" {{ if or (strings.HasPrefix .URL "http:" ) (strings.HasPrefix .URL "https:" ) }}
            target="_blank" {{ end }} class="flex items-center">
            {{ if .Pre }}
            <span {{ if and .Pre .Name}} class="mr-1" {{ end }}>
                {{ partial "icon.html" .Pre }}
            </span>
            {{ end }}
            <p class="text-xs font-light text-gray-500 hover:text-gray-900" title="{{ .Title }}">
                {{ .Name | markdownify }}
            </p>
        </a>
        {{ end }}
    </div>
</div>
{{ end }}

{{ if .Site.Params.highlightCurrentMenuArea }}
<script>
    (function () {
        
        var $mainmenu = $('.main-menu');
        var path = window.location.pathname;      
        $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
            $(e).children('p').addClass('active');
        });                
    })();
</script>
{{ end }}
